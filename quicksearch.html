<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Global Members &lt;constant&gt; ALL_OPTIONS :Array Type: Array Default Value: [&quot;debug&quot;,&quot;vault_host&quot;,&quot;vault_port&quot;,&quot;vault_ssl&quot;,&quot;vault_token&quot;,&quot;ssl_ciphers&quot;,&quot;ssl_cert_file&quot;,&quot;ssl_pem_file&quot;,&quot;ssl_pem_passphrase&quot;,&quot;ssl_ca_cert&quot;,&quot;ssl_verify&quot;,&quot;proxy_address&quot;,&quot;proxy_port&quot;,&quot;proxy_username&quot;,&quot;proxy_password&quot;,&quot;timeout&quot;,&quot;secret_shares&quot;,&quot;secret_threshold&quot;] Methods module:config() Process the configurations using inputs and environment variables. module:endpoint(config) Setup function for Endpoint module; provides debug support and returns the Endpoint class. Parameters: Name Type Description config Object overrides any default configurations. Returns: Endpoint class reference Type Endpoint × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Modules Classes API Endpoint Hooks Vaulted × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Classes Classes API Endpoint Hooks Vaulted × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Vaulted Vaulted is a nodejs-based wrapper for the Vault HTTP API. Installation$ npm install vaultedGetting StartedNew VaultWhen starting a new Vault instance the basic flow goes init --&gt; unseal --&gt; any other action. var Vaulted = require('vaulted'); var myVault = new Vaulted({ vault_host: '127.0.0.1', vault_port: 8200, vault_ssl: false }); var keys; myVault.prepare() .bind(myVault) .then(function () { return myVault.init(); }).then(function (data) { myVault.setToken(data.root_token); keys = data.keys; }) .then(function () { return myVault.unSeal({ body: { key: keys[0] } }); }) .then(function () { return myVault.unSeal({ body: { key: keys[1] } }); }) .then(function () { console.log('Vault is now ready!'); }) .catch(function onError(err) { console.error('Could not initialize or unseal vault:', err.message, err.error); });Existing Vaultvar Vaulted = require('vaulted'); var myVault = new Vaulted({ vault_host: '127.0.0.1', vault_port: 8200, vault_ssl: false }); myVault.setToken('mytoken'); myVault.prepare() .then(function () { console.log('Vault is now ready!'); });Existing Vault - Passing a token on a per-call basisvar Vaulted = require('vaulted'); var myVault = new Vaulted({ vault_host: '127.0.0.1', vault_port: 8200, vault_ssl: false }); myVault.prepare('mytoken') .then(function () { console.log('Vault is now ready!'); });ConfiguringThe available options below can either be passed to the Vaulted constructor, using environment variables, or configuration files. Constructorvar Vaulted = require('vaulted'); var myVault = new Vaulted({ vault_host: '127.0.0.1', vault_port: 8200, vault_ssl: false, timeout: 5000 });Environment Variables$ export VAULT_HOST=127.0.0.1 $ export VAULT_PORT=8200 $ export VAULT_SSL=false $ export VAULT_TIMEOUT=5000var Vaulted = require('vaulted'); var myVault = new Vaulted();Configuration FileFile: config/default.yml vault_host: 127.0.0.1 vault_port: 8200 vault_ssl: truevar Vaulted = require('vaulted'); var myVault = new Vaulted();Available Options Attribute Environment Variable Default Value Description vault_host VAULT_HOST 127.0.0.1 Vault server hostname vault_port VAULT_PORT 8200 Vault server port vault_ssl VAULT_SSL true (enabled) Use SSL? vault_token VAULT_TOKEN Token to use to access the vault ssl_ciphers VAULT_SSL_CIPHERS TLSv1.2 The ciphers that will be used when communicating with vault over ssl ssl_cert_file VAULT_SSL_CERT Path to custom SSL cert file ssl_pem_file VAULT_SSL_CERT_KEY Path of SSL cert PEM file to use with custom SSL verification ssl_pem_passphrase VAULT_SSL_CERT_PASSPHRASE Passphrase associated SSL cert PEM file to use with custom SSL verification ssl_ca_cert VAULT_CACERT CA cert path used for certification verification ssl_verify VAULT_SSL_VERIFY true validate SSL requests? timeout VAULT_TIMEOUT milliseconds to wait for response headers proxy_address VAULT_PROXY_ADDRESS HTTP Proxy server address proxy_password VAULT_PROXY_PASSWORD HTTP Proxy user password proxy_port VAULT_PROXY_PORT HTTP Proxy server port proxy_username VAULT_PROXY_USERNAME HTTP Proxy server username debug DEBUG false Show verbose messages, network requests? secret_shares SECRET_SHARES 3 Number of shared secret keys to generate secret_threshold SECRET_THRESHOLD 2 Threshold at which to unseal vault (must be &lt;= SECRET_SHARES) Running The Express-app ExampleIn order to run the example, you will need to install: GNU Make Docker (boot2docker) Docker-Compose $ make run-localAfter starting the servers, you can point a tool like POSTman at http://$(boot2docker ip):3000. You can perform read/write/delete operations on secrets: curl \\ -X PUT \\ -H &quot;Content-Type: application/json&quot; \\ -d '{ &quot;hashicorp&quot;: &quot;amazeballs&quot;, &quot;poop&quot;: &quot;stinky&quot; }' \\ 'http://$(boot2docker ip):3000/secret/poop'{&quot;success&quot;:true}curl \\ -X GET \\ 'http://$(boot2docker ip):3000/secret/poop'{ &quot;lease_id&quot;: &quot;secret/poop/xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx&quot;, &quot;renewable&quot;: false, &quot;lease_duration&quot;: 2592000, &quot;data&quot;: { &quot;hashicorp&quot;: &quot;amazeballs&quot;, &quot;poop&quot;: &quot;stinky&quot; }, &quot;auth&quot;: null }DevelopmentUse the docker-compose-test.yml to aid development. PRs are very, very welcome. Please add tests when including new functionality. Running Tests$ docker-compose -f docker-compose-test.yml up -d consul vault $ docker-compose -f docker-compose-test.yml run vaultedLicenseThe MIT License (MIT) Copyright (c) 2015-2016 Christopher &quot;Chief&quot; Najewicz Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-api.html":{"id":"module-api.html","title":"Module: api","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: api Provides public facade layer around API endpoints. Classes API Members &lt;inner, constant&gt; API_DEFINITIONS :string Type: string &lt;inner, constant&gt; API_PREFIX :string Type: string Default Value: v1 &lt;inner, constant&gt; API_SPECS :string Type: string Methods &lt;inner&gt; getEndpoint(endpoint) Retrieves the named endpoint. Parameters: Name Type Description endpoint String the name / path of the defined endpoint. Throws: Endpoint not provided or has no length. Type Error Could not find endpoint: {endpoint_name} in API defintions Type Error Returns: An instance matching the specificed name. Type EndPoint &lt;inner&gt; mountEndpoints(config, type, namespace) Mounts a set of Endpoints from a given spec type to a specified namespace. Parameters: Name Type Description config Object overrides any default configurations. type String the name of the spec that references a set of Endpoints. namespace String the name to mount a specified set of Endpoints to. Throws: namespace not provided or has no length. Type Error type not provided or has no length. Type Error Could not find type in defintions. Type Error &lt;inner&gt; unmountEndpoints(namespace) Unmounts a set of Endpoints from a specified namespace. Parameters: Name Type Description namespace String the name associated with Endpoints to unmount . Throws: namespace not provided or has no length. Type Error Could not find namespace in APIs. Type Error × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-api-API.html":{"id":"module-api-API.html","title":"Class: API","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Class: API api~ API new API(config) API constructor Parameters: Name Type Description config Object overrides any default configurations. Members endpoints :Object Type: Object specs :Object Type: Object × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-audit.html":{"id":"module-audit.html","title":"Module: audit","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: audit Provides implementation for the Vault Audit APIs Extends Vaulted Methods &lt;inner&gt; disableAudit(options) Disable a specific audit backend from the vault. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the audit mount token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; enableAudit(options) Enable a specific audit backend for use with the vault. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the audit mount body Object holds the attributes passed as inputs Properties Name Type Argument Description type string the type of audit ('file', 'syslog') description string &lt;optional&gt; a description of the audit backend for operators. options Object &lt;optional&gt; options for configuring a specific type of audit backend token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; enableFileAudit(options) Convenience method to enable the file audit backend for use with the vault. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the file audit mount body Object holds the attributes passed as inputs Properties Name Type Argument Default Description path string the directory where to write the audit files description string &lt;optional&gt; a description of the file audit backend for operators. log_raw boolean &lt;optional&gt; false should security sensitive information be logged raw. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; enableSyslogAudit(options) Convenience method to enable the syslog audit backend for use with the vault. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the syslog audit mount body Object holds the attributes passed as inputs Properties Name Type Argument Default Description description string &lt;optional&gt; a description of the syslog audit backend for operators. facility string &lt;optional&gt; AUTH syslog facility to use. tag string &lt;optional&gt; vault syslog tag to use. log_raw boolean &lt;optional&gt; false should security sensitive information be logged raw. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getAuditMounts(options) Gets the list of mounted audit backends for the vault. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-auth.html":{"id":"module-auth.html","title":"Module: auth","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: auth Provides implementation for the Vault Auth APIs Extends Vaulted Methods &lt;inner&gt; createAuthMount(options) Creates the specified authentication backend mount in the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the auth mount body Object holds the attributes passed as inputs Properties Name Type Argument Description type string the type of auth ('app-id') description string &lt;optional&gt; a description of the auth backend for operators. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; deleteAuthMount(options) Deletes the specified authentication backend mount from the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the auth mount token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getAuthMounts(options) Gets the list of authentication backend mounts for the vault and sets internal property accordingly Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-auth_appid.html":{"id":"module-auth_appid.html","title":"Module: auth/appid","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: auth/appid Provides implementation for the Vault Auth Appid backend APIs Extends Vaulted Methods &lt;inner&gt; appLogin(mountName) Authenticates the user of the app using the app-id authentication backend. Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Description app_id string the app id user_id string the user id options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; createApp(options, mountName) Creates the specified app in the app-id auth backend of the vault. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the app body Object holds the attributes passed as inputs Properties Name Type Description value string the policy id display_name string human-readable name of the app. token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; createUser(options, mountName) Creates the specified user in the app-id auth backend of the vault. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the user body Object holds the attributes passed as inputs Properties Name Type Description value string the app id token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; deleteApp(options, mountName) Deletes the specified app from the app-id auth backend of the vault. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the app token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; deleteUser(options, mountName) Deletes the specified user from the app-id auth backend of the vault. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the user token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; getApp(options, mountName) Retrieve the specified app using the app id. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the app token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise &lt;inner&gt; getUser(options, mountName) Retrieve the specified user using the user id. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the user token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; app-id path name the app-id auth backend is mounted on Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:50 pm using the DocStrap template. "},"module-auth_token.html":{"id":"module-auth_token.html","title":"Module: auth/token","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: auth/token Provides implementation for the Vault Auth Token backend APIs Extends Vaulted Methods &lt;inner&gt; createToken(mountName) Creates a token to use for authenticating with the Vault. Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Description id string &lt;optional&gt; ID of the client token policies Array &lt;optional&gt; list of policies for the token meta Object &lt;optional&gt; map of string to string valued metadata no_parent boolean &lt;optional&gt; creates a token with no parent no_default_profile boolean &lt;optional&gt; default profile will not be a part of this token's policy set ttl string &lt;optional&gt; TTL period of the token display_name string &lt;optional&gt; display name of the token num_uses number &lt;optional&gt; maximum uses for the given token options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; lookupToken(options, mountName) Retrieve information about the specified existing token. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the token token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; lookupTokenSelf(options, mountName) Retrieve information about the current client token. Parameters: Name Type Argument Default Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; renewToken(options, mountName) Renew an existing token to use for authenticating with the Vault. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the token body Object holds the attributes passed as inputs Properties Name Type Argument Description increment number &lt;optional&gt; lease increment token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; revokeToken(options, mountName) Revokes the specified existing token and all child tokens. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the token token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; revokeTokenOrphan(options, mountName) Revokes the specified existing token but not the child tokens. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the token token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; revokeTokenPrefix(options, mountName) Revokes all tokens generated at a given prefix including children and secrets. Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string token prefix token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise &lt;inner&gt; revokeTokenSelf(options, mountName) Revokes the current client token and all child tokens. Parameters: Name Type Argument Default Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; token path name the token auth backend is mounted on Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-backend_consul.html":{"id":"module-backend_consul.html","title":"Module: backend/consul","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: backend/consul Provides implementation for the Vault Consul Secret backend APIs Extends Vaulted Methods &lt;inner&gt; configConsulAccess(mountName) Configures the access information for Consul secret backend Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description address string address of the Consul instance, provided as host:port token string Consul ACL token to use; must be a management type token scheme string &lt;optional&gt; HTTP URL scheme to use options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; consul path name the consul secret backend is mounted on Returns: Type Promise &lt;inner&gt; createConsulRole(options, mountName) Creates or updates the Consul role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the consul role body Object holds the attributes passed as inputs Properties Name Type Argument Default Description policy string base64 encoded Consul ACL policy token_type string &lt;optional&gt; client type of token to create using this role ('client', 'management') lease string &lt;optional&gt; lease value provided as a string duration with time suffix token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; consul path name the consul secret backend is mounted on Returns: Type Promise &lt;inner&gt; deleteConsulRole(options, mountName) Removes a specified Consul role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the consul role token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; consul path name the consul secret backend is mounted on Returns: Type Promise &lt;inner&gt; generateConsulRoleToken(options, mountName) Generate a dynamic Consul token based on the role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the consul role token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; consul path name the consul secret backend is mounted on Returns: Type Promise &lt;inner&gt; getConsulRole(options, mountName) Retrieve a specified Consul role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the consul role token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; consul path name the consul secret backend is mounted on Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-backend_pki.html":{"id":"module-backend_pki.html","title":"Module: backend/pki","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: backend/pki Provides implementation for the Vault PKI Secret backend APIs Extends Vaulted Methods &lt;inner&gt; createCertRole(options, mountName) Creates or updates the role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string role name body Object holds the attributes passed as inputs Properties Name Type Argument Default Description ttl string &lt;optional&gt; Time To Live value provided as a string duration with time suffix max_ttl string &lt;optional&gt; maximum Time To Live provided as a string duration with time suffix allow_localhost string &lt;optional&gt; true indicates clients can request certificates for localhost allowed_domains string &lt;optional&gt; Designates the domains of the role allow_bare_domains string &lt;optional&gt; false Designates clients can request certificates matching the value of the actual domains themselves allow_subdomains string &lt;optional&gt; false Designates clients can request certificates with CNs that are subdomains of the CNs allowed by the other role options. allow_any_name string &lt;optional&gt; false Designates clients can request any CN enforce_hostnames string &lt;optional&gt; true Designates only valid host names are allowed for CNs, DNS SANs, and the host part of email addresses allow_ip_sans string &lt;optional&gt; true Designates clients can request IP Subject Alternative Names server_flag string &lt;optional&gt; true Designates certificates are flagged for server use client_flag string &lt;optional&gt; true Designates certificates are flagged for client use code_signing_flag string &lt;optional&gt; false Designates certificates are flagged for code signing use email_protection_flag string &lt;optional&gt; false Designates certificates are flagged for email protection use key_type string &lt;optional&gt; rsa type of key to generate for generated private keys key_bits string &lt;optional&gt; 2048 number of bits to use for the generated keys use_csr_common_name string &lt;optional&gt; false Designates when used with the CSR signing endpoint, the common name in the CSR will be used instead of taken from the JSON data token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; deleteCertRole(options, mountName) Deletes the role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string role name token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; genIntermediatesExported(mountName) Generates a new private key and a CSR for signing (with private key) Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list format string &lt;optional&gt; pem Format for returned data key_type string &lt;optional&gt; rsa Desired key type key_bits string &lt;optional&gt; 2048 The number of bits to use options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; genIntermediatesInternal(mountName) Generates a new private key and a CSR for signing (without private key) Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list format string &lt;optional&gt; pem Format for returned data key_type string &lt;optional&gt; rsa Desired key type key_bits string &lt;optional&gt; 2048 The number of bits to use options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; genRootExported(mountName) Generates a new self-signed CA certificate and private key Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data key_type string &lt;optional&gt; rsa Desired key type key_bits string &lt;optional&gt; 2048 The number of bits to use max_path_length string &lt;optional&gt; -1 the maximum path length to encode in the generated certificate options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; genRootInternal(mountName) Generates a new self-signed CA certificate Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data key_type string &lt;optional&gt; rsa Desired key type key_bits string &lt;optional&gt; 2048 The number of bits to use max_path_length string &lt;optional&gt; -1 the maximum path length to encode in the generated certificate options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCaDer(mountName) Retrieves the CA certificate in raw DER-encoded form Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCaPem(mountName) Retrieves the CA certificate in PEM format Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCertCa(mountName) Retrieves CA certificate in PEM formatting in the certificate key of the JSON object Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCertCrl(mountName) Retrieves the current CRL certificate in PEM formatting in the certificate key of the JSON object Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCertRole(options, mountName) Queries the role definition Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string role name token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCertSerial(options, mountName) Retrieves certificate by serial number in PEM formatting in the certificate key of the JSON object Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Description id string certificate serial number mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getConfigCrl(options, mountName) Allows getting the duration for which the generated CRL should be marked valid Parameters: Name Type Argument Default Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getConfigUrls(options, mountName) Fetch the URLs to be encoded in generated certificates Parameters: Name Type Argument Default Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCrlDer(mountName) Retrieves the current CRL in raw DER-encoded form Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCrlPem(mountName) Retrieves the current CRL in PEM format Parameters: Name Type Argument Default Description mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; getCrlRotate(options, mountName) This endpoint forces a rotation of the CRL Parameters: Name Type Argument Default Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; issueCertCredentials(mountName) Generates a new set of credentials (private key and certificate) based on the role named in the endpoint Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; revokeCertCredentials(mountName) Revokes a certificate using its serial number Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Description serial_number string serial number of the certificate to revoke options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; setConfigCa(mountName) Allows submitting the CA information for the backend via a PEM file containing the CA certificate and its private key, concatenated Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Description pem_bundle string The key and certificate concatenated in PEM format options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; setConfigCrl(mountName) Allows setting the duration for which the generated CRL should be marked valid Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Description expiry string The time until expiration options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; setConfigUrls(mountName) Allows setting the issuing certificate endpoints Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Description issuing_certificates string &lt;optional&gt; URL values for the Issuing Certificate field crl_distribution_points string &lt;optional&gt; URL values for the CRL Distribution Points field ocsp_servers string &lt;optional&gt; URL values for the OCSP Servers field options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; setSignedIntermediates(mountName) Allows submitting the signed CA certificate corresponding to a private key Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Description certificate string The certificate in PEM format options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; signCertificate(options, mountName) Signs a new certificate based upon the provided CSR and the supplied parameters Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string role name body Object holds the attributes passed as inputs Properties Name Type Argument Default Description csr string The PEM-encoded CSR common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; signCertificateVerbatim(mountName) Signs a new certificate based upon the provided CSR. Values are taken verbatim from the CSR Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description csr string The PEM-encoded CSR ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise &lt;inner&gt; signIntermediateWithRoot(mountName) Uses the configured CA certificate to issue a certificate with appropriate values for acting as an intermediate CA Parameters: Name Type Argument Default Description options.body Object holds the attributes passed as inputs Properties Name Type Argument Default Description csr string The PEM-encoded CSR common_name string The requested CN for the certificate alt_names string &lt;optional&gt; Requested Subject Alternative Names, in a comma-delimited list ip_sans string &lt;optional&gt; Requested IP Subject Alternative Names, in a comma-delimited list ttl string &lt;optional&gt; Requested Time To Live format string &lt;optional&gt; pem Format for returned data max_path_length string &lt;optional&gt; -1 the maximum path length to encode in the generated certificate use_csr_values string &lt;optional&gt; 1) Subject information, including names and alternate names, will be preserved from the CSR rather than using the values provided in the other parameters to this path; 2) Any key usages (for instance, non-repudiation) requested in the CSR will be added to the basic set of key usages used for CA certs signed by this path; 3) Extensions requested in the CSR will be copied into the issued certificate options.token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; pki path name the pki secret backend is mounted on Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-config.html":{"id":"module-config.html","title":"Module: config","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: config Provides the management of configurations. (require(&quot;config&quot;))() Process the configurations using inputs and environment variables. × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-cubbyhole.html":{"id":"module-cubbyhole.html","title":"Module: cubbyhole","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: cubbyhole Provides implementation for the Vault Cubbyhole APIs Extends Vaulted Methods &lt;inner&gt; deleteCubby(options) Delete secret at the specified location Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; readCubby(options) Retrieves the secret at the specified location Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; writeCubby(options) Stores a secret at the specified location Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret body Object containing the structure of the secret to store token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-endpoint.html":{"id":"module-endpoint.html","title":"Module: endpoint","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: endpoint Implements the request wrapper around actual API endpoints. (require(&quot;endpoint&quot;))(config) Setup function for Endpoint module; provides debug support and returns the Endpoint class. Parameters: Name Type Description config Object overrides any default configurations. Returns: Endpoint class reference Type Endpoint Classes Endpoint Methods &lt;inner&gt; delete(method, options) Performs a delete request operation for the named endpoint. Parameters: Name Type Description method String the verb name. options Object the request inputs. Returns: Type Promise &lt;inner&gt; get(method, options) Performs a get request operation for the named endpoint. Parameters: Name Type Description method String the verb name. options Object the request inputs. Returns: Type Promise &lt;inner&gt; post(method, options) Performs a post request operation for the named endpoint. Parameters: Name Type Description method String the verb name. options Object the request inputs. Returns: Type Promise &lt;inner&gt; put(method, options) Performs a put request operation for the named endpoint. Parameters: Name Type Description method String the verb name. options Object the request inputs. Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-endpoint-Endpoint.html":{"id":"module-endpoint-Endpoint.html","title":"Class: Endpoint","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Class: Endpoint endpoint~ Endpoint new Endpoint(options) Endpoint constructor Parameters: Name Type Description options Object object of options to configure the Endpoint Properties Name Type Argument Default Description name string the name / API path base_url string the base Vault server url verbs Object the methods defined for the Endpoint defaults Object &lt;optional&gt; {} the default request options Members defaults :Object Type: Object name :string Type: string server_url :string Type: string verbs :Object Type: Object Methods &lt;static&gt; create(url, defaults, apis, verbs, name) Helper function to create a new instance of Endpoint Parameters: Name Type Description url String the base Vault server url defaults Object the default request options apis Object an object containing named APIs verbs Object the methods defined for the Endpoint. name string the name / API path Returns: new instance of Endpoint Type Endpoint × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-health.html":{"id":"module-health.html","title":"Module: health","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: health Provides implementation for the Vault Health APIs Extends Vaulted Methods &lt;inner&gt; checkHealth(options) Gets the health of the vault Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Description standbyok boolean true to indicate a standby is acceptable Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-hooks.html":{"id":"module-hooks.html","title":"Module: hooks","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: hooks Provides a generic pre/post hook implementation. Classes Hooks × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-hooks-Hooks.html":{"id":"module-hooks-Hooks.html","title":"Class: Hooks","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Class: Hooks hooks~ Hooks new Hooks() Hooks constructor Methods execPost(name, context, args) Execute all the registered post hooks Parameters: Name Type Description name string the name of the function that is being hooked. context Object a context object like this. args Array a list of arguments to pass to the hook. execPre(name, context, args) Execute all the registered pre hooks Parameters: Name Type Description name string the name of the function that is being hooked. context Object a context object like this. args Array a list of arguments to pass to the hook. post(name, fn) Register a function to execute after the named function. Parameters: Name Type Description name string the name of the function that is being hooked. fn function a function to execute after the named function. Returns: instance of Hooks Type Hooks pre(name, fn) Register a function to execute before the named function. Parameters: Name Type Description name string the name of the function that is being hooked. fn function a function to execute before the named function. Returns: instance of Hooks Type Hooks × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-init.html":{"id":"module-init.html","title":"Module: init","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: init Provides implementation for the Vault Initialization APIs Extends Vaulted Methods &lt;inner&gt; getInitStatus() Gets the initialize status of a vault Returns: Type Promise &lt;inner&gt; init(options) Initializes a remote vault Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Default Description secret_shares number &lt;optional&gt; config['secret_shares'] number of shares to split the master key into secret_threshold number &lt;optional&gt; config['secret_threshold'] number of shares required to reconstruct the master key Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-internal.html":{"id":"module-internal.html","title":"Module: internal","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: internal Provides internal helpers for working with the Vault. × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-keys.html":{"id":"module-keys.html","title":"Module: keys","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: keys Provides implementation for the Vault Key Rotation APIs Extends Vaulted Methods &lt;inner&gt; getKeyStatus(options) Gets the status of the current key Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getRekeyStatus(options) Gets the status of the rekey process. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; rotateKey(options) Initiate the rotation of the encryption key for data stored in the vault Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; startRekey(options) Start the rekey process. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Default Description secret_shares number &lt;optional&gt; config['secret_shares'] number of shares to split the master key into secret_threshold number &lt;optional&gt; config['secret_threshold'] number of shares required to reconstruct the master key token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; stopRekey(options) Stops/Cancels the current rekey process. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; updateRekey(options) Sends the next key share to continue the rekey process. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token body Object holds the attributes passed as inputs Properties Name Type Description key Object A single master share key Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-leader.html":{"id":"module-leader.html","title":"Module: leader","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: leader Provides implementation for the Vault Leader APIs Extends Vaulted Methods &lt;inner&gt; getInitStatus(options) Gets the leader of a vault Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-leases.html":{"id":"module-leases.html","title":"Module: leases","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: leases Provides implementation for the Vault Renew/Revoke Leases APIs Extends Vaulted Methods &lt;inner&gt; renewLease(options) Renew the lease (extend) on a secret Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the lease body Object &lt;optional&gt; holds the attributes passed as inputs Properties Name Type Argument Description increment string &lt;optional&gt; requested amount of time in seconds to extend the lease. token string &lt;optional&gt; the authentication token Returns: Promise which is resolved to the renewed secret. Type Promise.&lt;Object&gt; &lt;inner&gt; revokeLease(options) Revoke the lease on a secret immediately. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the lease token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; revokeLeasePrefix(options) Revoke the lease on all secrets under the specified prefix immediately. Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string secret path prefix token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-listeners.html":{"id":"module-listeners.html","title":"Module: listeners","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: listeners Provides listeners for events within Vaulted Extends Vaulted × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-mounts.html":{"id":"module-mounts.html","title":"Module: mounts","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: mounts Provides implementation for the Vault Secret Backend Mounts APIs Extends Vaulted Methods &lt;inner&gt; createMount(options) Creates the specified mount in the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret backend mount body Object holds the attributes passed as inputs Properties Name Type Argument Description type string the type of secret backend ('consul', 'pki') description string &lt;optional&gt; a description of the secret backend for operators. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; deleteMount(options) Deletes the specified mount from the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret backend mount token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getMounts(options) Gets the list of mounts for the vault and sets internal property accordingly Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; mountConsul(options) Convenience method to enable the consul secret backend for use with the vault. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Default Description id string &lt;optional&gt; consul unique identifier for the secret backend mount body Object &lt;optional&gt; holds the attributes passed as inputs Properties Name Type Argument Description description string &lt;optional&gt; a description of the secret backend for operators. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; mountPki(options) Convenience method to enable the pki secret backend for use with the vault. Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Default Description id string &lt;optional&gt; pki unique identifier for the secret backend mount body Object &lt;optional&gt; holds the attributes passed as inputs Properties Name Type Argument Description description string &lt;optional&gt; a description of the secret backend for operators. token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; reMount(options) Renames the specified mount to a new name in the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description from string current unique identifier for the secret backend mount to string new unique identifier for the secret backend mount token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-policy.html":{"id":"module-policy.html","title":"Module: policy","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: policy Provides implementation for the Vault Policy APIs Extends Vaulted Methods &lt;inner&gt; createPolicy(options) Creates the specified policy in the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the policy body Object holds the attributes passed as inputs Properties Name Type Description rules string the definition of the policy rules (HCL or json format) token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; deletePolicy(options) Deletes the specified policy from the vault and sets internal property accordingly Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the policy token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getPolicies(options) Gets the list of policies for the vault and sets internal property accordingly Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; getPolicy(options) Gets the specified policy details Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the policy token string &lt;optional&gt; the authentication token Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-seal.html":{"id":"module-seal.html","title":"Module: seal","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: seal Provides implementation for the Vault Seal APIs Extends Vaulted Methods &lt;inner&gt; getSealedStatus() Gets the sealed status of a vault and sets internal property accordingly Returns: Type Promise &lt;inner&gt; seal(options) Seals the vault Parameters: Name Type Argument Description options Object &lt;optional&gt; object of options to send to API request Properties Name Type Argument Description token string &lt;optional&gt; the authentication token Returns: Type Promise &lt;inner&gt; unSeal(options) Unseals the vault Parameters: Name Type Description options Object object of options to send to API request Properties Name Type Description body Object holds the attributes passed as inputs Properties Name Type Argument Description key Object A single master share key reset Object &lt;optional&gt; if true, the previously-provided unseal keys are discarded from memory and the unseal process is reset. Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-secret.html":{"id":"module-secret.html","title":"Module: secret","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: secret Provides implementation for the Vault Secret APIs Extends Vaulted Methods &lt;inner&gt; delete(options, mountName) Delete a secret from the generic backend Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; secret path name the generic secret backend is mounted on Returns: Type Promise &lt;inner&gt; read(options, mountName) Read / get a secret from the generic backend Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; secret path name the generic secret backend is mounted on Returns: Type Promise &lt;inner&gt; write(options, mountName) Write a secret to the generic backend Parameters: Name Type Argument Default Description options Object object of options to send to API request Properties Name Type Argument Description id string unique identifier for the secret body Object containing the structure of the secret to store token string &lt;optional&gt; the authentication token mountName string &lt;optional&gt; secret path name the generic secret backend is mounted on Returns: Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-vaulted.html":{"id":"module-vaulted.html","title":"Module: vaulted","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Module: vaulted Vaulted is a nodejs-based wrapper for the Vault HTTP API. Author: Christopher 'Chief' Najewicz Classes Vaulted Methods &lt;inner&gt; prepare(vault_token) Attempt to load the Vault state. Parameters: Name Type Argument Description vault_token String &lt;optional&gt; an auth token Returns: Type Promise &lt;inner&gt; setInitialized() Sets the initialized flag to true to indicated the Vault has been intialized. Returns: instance of Vaulted Type Vaulted &lt;inner&gt; setStatus(status) Set status hash Parameters: Name Type Description status Object representing vaulted status, which includes 'sealed' property. Returns: instance of Vaulted Type Vaulted &lt;inner&gt; setToken(vault_token) Sets the token to use when accessing the vault, also sets the 'X-Vault-Token' header with token value Parameters: Name Type Description vault_token String the root/master token Throws: Vault token not provided, or has zero-length. Type Error Returns: instance of Vaulted Type Vaulted &lt;inner&gt; validateEndpoint(endpoint, mountName, defaultName) Validate the request endpoint and that the Vault is prepared for use. Parameters: Name Type Argument Description endpoint string the name / path of the defined endpoint. mountName string &lt;optional&gt; path name an endpoint is mounted on defaultName string &lt;optional&gt; default path name an endpoint is mounted on Throws: Vault has not been initialized. Type Error Vault has not been unsealed. Type Error Returns: An instance matching the specificed name. Type EndPoint × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "},"module-vaulted-Vaulted.html":{"id":"module-vaulted-Vaulted.html","title":"Class: Vaulted","body":" Documentation Modules apiauditauthauth/appidauth/tokenbackend/consulbackend/pkiconfigcubbyholeendpointhealthhooksinitinternalkeysleaderleaseslistenersmountspolicysealsecretvaulted Classes api~APIendpoint~Endpointhooks~Hooksvaulted~Vaulted Global ALL_OPTIONS Class: Vaulted vaulted~ Vaulted new Vaulted(options) Vaulted constructor Parameters: Name Type Description options Object overrides any default configurations. Members api :API Type: API auths :Object Type: Object config :Object Type: Object headers :Object Type: Object initialized :boolean Type: boolean mounts :Object Type: Object status :Object Type: Object token :string Type: string × Search results Close Documentation generated by JSDoc 3.4.0 on January 26th 2016, 6:51:51 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
